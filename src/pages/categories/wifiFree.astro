---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import "../../styles/global.css";

interface Card {
  id: number;
  title: string;
  description: string;
  image: string;
  images?: { url: string; caption?: string }[];
  features?: string[];
  specifications?: {
    model?: string;
    processor?: string;
    os?: string;
    operating_conditions?: string;
    image_sensor?: string;
    lens?: string;
    lens_mount?: string;
    night_vision?: string;
    video_compression?: string;
    max_resolution?: string;
    audio?: string;
    sensor?: string;
    alarm?: string;
    camera_siren?: string;
    base_siren?: string;
    wifi?: string;
    network_requirement?: string;
    local_storage?: string;
    cloud_storage?: string;
    camera_capacity?: string;
    buttons?: string;
    antenna?: string;
    ethernet?: string;
    power?: string;
    battery?: string;
    dc_power?: string;
    power_consumption?: string;
    camera_dimensions?: string;
    base_dimensions?: string;
    weight?: string;
    ip_rating?: string;
  };
  price?: string;
  slug: string;
}

// Fetch and map the collection
// Make sure "wififree" is a valid collection key in your src/content/config.ts
const products = await getCollection("wifiFree");
---

<Layout title="UNV Products">
  <!-- Enhanced Banner Section -->
  <section class="relative h-[500px] w-full overflow-hidden">
    <div class="parallax-bg absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-purple-900"></div>
    <div class="floating-particles absolute inset-0"></div>
    <div class="relative z-10 flex h-full items-center justify-center bg-black bg-opacity-40">
      <div class="mx-auto max-w-4xl px-4 text-center text-white">
        <h1 class="banner-title mb-6 text-4xl font-bold opacity-0 md:text-6xl animate-fade-in-up">
          UNV Security Solutions
        </h1>
        <p class="banner-subtitle text-xl opacity-0 md:text-2xl animate-fade-in-up animation-delay-300">
          Discover our range of high-quality UNV security cameras and
          surveillance systems designed to protect your home and business with
          cutting-edge technology.
        </p>
        <div class="banner-cta mt-8 opacity-0 animate-fade-in-up animation-delay-600">
          <button class="pulse-btn hover:bg-blue-700 rounded-full bg-blue-600 px-8 py-4 font-semibold text-white transition-all duration-300 hover:scale-105">
            Explore Products
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Overview Section -->
  <section class="overview-section relative overflow-hidden bg-gradient-to-br from-gray-50 via-white to-blue-50 py-20 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900">
    <div class="bg-grid-pattern absolute inset-0 opacity-5"></div>
    <div class="relative mx-auto max-w-7xl px-4">
      <div class="text-center">
        <div class="fade-in-up mb-4">
          <span class="rounded-full bg-blue-100 px-4 py-2 text-sm font-semibold text-blue-800 dark:bg-blue-900 dark:text-blue-200">
            PROFESSIONAL SURVEILLANCE
          </span>
        </div>
        <h2 class="fade-in-up mb-8 text-4xl font-bold text-gray-900 dark:text-white md:text-5xl">
          Why Choose UNV?
        </h2>
        <p class="fade-in-up mx-auto mb-16 max-w-3xl text-lg text-gray-600 dark:text-gray-300">
          UNV (Uniview) stands at the forefront of security technology,
          delivering enterprise-grade surveillance solutions with innovative
          features, exceptional reliability, and cutting-edge AI capabilities.
        </p>
      </div>

      <!-- Animated Features Grid -->
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        <div class="feature-card group cursor-pointer rounded-2xl bg-white p-8 shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-gray-800">
          <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100 transition-all duration-300 group-hover:scale-110 group-hover:bg-blue-200 dark:bg-blue-900">
            <svg class="h-8 w-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
            </svg>
          </div>
          <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
            Advanced AI Analytics
          </h3>
          <p class="text-gray-600 dark:text-gray-300">
            Intelligent video analytics with facial recognition, object
            detection, and behavioral analysis for enhanced security monitoring.
          </p>
        </div>

        <div class="feature-card group cursor-pointer rounded-2xl bg-white p-8 shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-gray-800">
          <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 transition-all duration-300 group-hover:scale-110 group-hover:bg-green-200 dark:bg-green-900">
            <svg class="h-8 w-8 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
          </div>
          <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
            Enterprise Security
          </h3>
          <p class="text-gray-600 dark:text-gray-300">
            Military-grade encryption and cybersecurity features ensure your
            surveillance data remains protected and confidential.
          </p>
        </div>

        <div class="feature-card group cursor-pointer rounded-2xl bg-white p-8 shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-gray-800">
          <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-purple-100 transition-all duration-300 group-hover:scale-110 group-hover:bg-purple-200 dark:bg-purple-900">
            <svg class="h-8 w-8 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
            High Performance
          </h3>
          <p class="text-gray-600 dark:text-gray-300">
            Ultra-HD 4K resolution, superior night vision, and weather-resistant
            designs for reliable 24/7 operation.
          </p>
        </div>

        <div class="feature-card group cursor-pointer rounded-2xl bg-white p-8 shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-gray-800">
          <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-orange-100 transition-all duration-300 group-hover:scale-110 group-hover:bg-orange-200 dark:bg-orange-900">
            <svg class="h-8 w-8 text-orange-600 dark:text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"></path>
            </svg>
          </div>
          <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
            Smart Connectivity
          </h3>
          <p class="text-gray-600 dark:text-gray-300">
            Seamless integration with existing networks, mobile apps, and cloud
            services for remote monitoring and management.
          </p>
        </div>

        <div class="feature-card group cursor-pointer rounded-2xl bg-white p-8 shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-gray-800">
          <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-red-100 transition-all duration-300 group-hover:scale-110 group-hover:bg-red-200 dark:bg-red-900">
            <svg class="h-8 w-8 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
            24/7 Support
          </h3>
          <p class="text-gray-600 dark:text-gray-300">
            Comprehensive technical support and maintenance services to ensure
            your security system operates flawlessly.
          </p>
        </div>

        <div class="feature-card group cursor-pointer rounded-2xl bg-white p-8 shadow-lg transition-all duration-500 hover:shadow-2xl dark:bg-gray-800">
          <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-indigo-100 transition-all duration-300 group-hover:scale-110 group-hover:bg-indigo-200 dark:bg-indigo-900">
            <svg class="h-8 w-8 text-indigo-600 dark:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path>
            </svg>
          </div>
          <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">
            Scalable Solutions
          </h3>
          <p class="text-gray-600 dark:text-gray-300">
            Flexible system architecture that grows with your needs, from single
            cameras to enterprise-wide deployments.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Products Section -->
  <section class="products-section bg-white py-20 dark:bg-gray-900">
    <div class="mx-auto max-w-[1400px] px-4">
      <div class="text-center">
        <div class="fade-in-up mb-4">
          <span class="rounded-full bg-gradient-to-r from-blue-600 to-purple-600 px-4 py-2 text-sm font-semibold text-white">
            OUR PRODUCTS
          </span>
        </div>
        <h2 class="fade-in-up mb-6 text-4xl font-bold text-gray-900 dark:text-white md:text-5xl">
          UNV Product Collection
        </h2>
        <p class="fade-in-up mx-auto mb-12 max-w-2xl text-lg text-gray-600 dark:text-gray-300">
          Explore our comprehensive range of UNV security cameras and
          surveillance equipment, each designed to meet specific security
          requirements with professional-grade performance.
        </p>
      </div>

      <!-- Enhanced Filter and Grid Section -->
      <div class="mx-auto max-w-[1400px] px-4 pt-8">
        <div class="mx-auto mb-12 max-w-2xl">
          <div class="relative">
            <input
              type="text"
              id="search"
              class="w-full rounded-lg border border-gray-300 px-4 py-3 pl-12 text-base shadow-sm transition-all duration-300 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:shadow-lg"
              placeholder="Search UNV Products..."
            />
            <svg
              class="absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400 transition-colors duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              ></path>
            </svg>
          </div>
          <!-- Category Filter -->
          <div class="mt-6 flex flex-wrap gap-3" id="category-filter">
            <button class="category-btn active rounded-lg bg-blue-600 px-4 py-2 font-semibold text-white transition-all duration-300 hover:bg-blue-700 transform hover:scale-105 active:scale-95" data-category="all">All</button>
            <!-- Category buttons will be injected here -->
          </div>
        </div>
        
        <div class="scroll-animate mx-auto max-w-[1400px] px-4 pb-8">
          <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4" id="products-grid">
            {
                    products.map((camera, index) => (
                        <a href={`/categories/ptz-cameras/${camera.slug}`} class="product-card transform hover:-translate-y-2 transition-all duration-300" style={{ animationDelay: `${index * 150}ms` }}>
                            <div class="group relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 ease-out border border-gray-100 dark:border-gray-700/50">
                                <div class="absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10 opacity-0 group-hover:opacity-100 transition-all duration-500 ease-out" />

                                <div class="aspect-h-3 aspect-w-4 overflow-hidden">
                                    <img
                                        src={camera.data.image}
                                        alt={camera.data.title}
                                        class="h-full w-full object-cover object-center transform group-hover:scale-110 transition-transform duration-700 ease-out"
                                    />
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
                                </div>

                                <div class="relative p-6">
                                    <div class="flex items-center justify-between mb-3">
                                        <h3 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300">
                                            {camera.data.title}
                                        </h3>
                                        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 dark:bg-primary/20 group-hover:bg-primary/30 dark:group-hover:bg-primary/40 transform group-hover:rotate-12 group-hover:scale-110 transition-all duration-300">
                                            <svg
                                                class="w-5 h-5 text-primary"
                                                fill="none"
                                                viewBox="0 0 24 24"
                                                stroke="currentColor"
                                            >
                                                <path
                                                    stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    stroke-width="2"
                                                    d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"
                                                />
                                            </svg>
                                        </span>
                                    </div>

                                    {/* Features with Enhanced Animations */}
                                   
                                    
                                    <div class="mt-6">
                                        <span class="inline-flex w-full justify-center items-center px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium hover:bg-primary/20 dark:bg-primary/20 dark:hover:bg-primary/30 transition-colors duration-300 group-hover:translate-x-1 transform transition-transform">
                                            View Details
                                            <svg class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                            </svg>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    ))
                }
          </div>
          <p
            id="no-results"
            class="mx-4 my-6 hidden rounded-lg bg-gray-50 py-8 text-center text-xl font-medium text-gray-600 shadow-inner transition-all duration-500 opacity-0 dark:bg-gray-800 dark:text-gray-300"
          >
            <span class="mb-2 block text-3xl animate-bounce">üîç</span>
            No matching results found
          </p>
        </div>
      </div>
    </div>
  </section>

  <style>
    .read-more-btn {
      position: relative;
      transform: none;
      overflow: hidden;
      border-radius: 0.5rem; /* rounded-lg */
      border-width: 2px;
      border-color: transparent;
      background-color: #2563eb; /* bg-blue-600 */
      padding: 0.75rem 1.5rem; /* px-6 py-3 */
      font-weight: bold;
      color: #fff;
      transition: all 0.3s;
    }
    
    .read-more-btn:hover {
      transform: translateY(-0.25rem); /* -translate-y-1 */
      border-color: #2563eb;           /* border-blue-600 */
      background-color: #fff;          /* bg-white */
      color: #2563eb;                  /* text-blue-600 */
      box-shadow: 0 10px 15px -3px rgba(37,99,235,0.1), 0 4px 6px -2px rgba(37,99,235,0.05); /* shadow-xl */
    }
    
    .read-more-btn:active {
      @apply scale-95;
    }
    
    .read-more-btn::before {
      position: absolute;
      left: 0;
      top: 0;
      z-index: -10;
      height: 100%;
      width: 100%;
      transform-origin: left;
      transform: scaleX(0);
      background: #fff;
      transition: transform 0.3s;
      content: "";
    }
    
    .read-more-btn:hover::before {
      transform: scaleX(1);
    }

    .animate-fade-in-up {
      animation: fadeInUp 1s ease-out forwards;
    }

    .animation-delay-300 {
      animation-delay: 0.3s;
    }

    .animation-delay-600 {
      animation-delay: 0.6s;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-out {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s ease-out;
    }

    .fade-in {
      opacity: 1;
      transform: translateY(0);
      transition: all 0.3s ease-out;
    }

    .bg-grid-pattern {
      background-image: 
        linear-gradient(rgba(0, 0, 0, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
      background-size: 50px 50px;
    }

    .pulse-btn {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    @keyframes float {
      0%, 100% { 
        transform: translateY(0px) rotate(0deg); 
      }
      33% { 
        transform: translateY(-30px) rotate(120deg); 
      }
      66% { 
        transform: translateY(15px) rotate(240deg); 
      }
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Extract unique categories from product data
      const cards = Array.from(document.querySelectorAll(".product-card"));
      const categorySet = new Set();
      
      // Get all unique MP categories from products
      cards.forEach(card => {
        const categories = card.getAttribute("data-categories")?.split(',') || [];
        categories.forEach(cat => {
          if (cat && cat.trim()) categorySet.add(cat.toUpperCase().trim());
        });
      });
      
      // Convert to array and sort numerically
      const categories = Array.from(categorySet);
      categories.sort((a, b) => {
        const numA = parseInt(a);
        const numB = parseInt(b);
        return numA - numB;
      });
      
      // Add category buttons to filter container
      const filterContainer = document.getElementById("category-filter");
      if (filterContainer) {
        categories.forEach(cat => {
          const btn = document.createElement("button");
          btn.className = "category-btn rounded-lg bg-blue-50 px-4 py-2 font-semibold text-blue-700 transition-all duration-300 hover:bg-blue-200 transform hover:scale-105 active:scale-95";
          btn.textContent = cat;
          btn.setAttribute("data-category", cat);
          filterContainer.appendChild(btn);
        });
      }

      // Filter products function
      function filterProducts() {
        const searchInput = document.getElementById("search");
        const searchTerm = searchInput ? searchInput.value.toLowerCase() : "";
        
        // Get active category
        const activeBtn = filterContainer?.querySelector(".category-btn.active");
        const selectedCategory = activeBtn?.getAttribute("data-category") || "all";
        
        let hasVisible = false;
        
        // First, fade out all cards
        cards.forEach(card => {
          card.classList.add("fade-out");
        });
        
        // After fade out animation, update visibility
        setTimeout(() => {
          cards.forEach((card, index) => {
            const title = card.querySelector("h3")?.textContent?.toLowerCase() || "";
            const desc = card.getAttribute("data-desc")?.toLowerCase() || "";
            const cardCategories = card.getAttribute("data-categories")?.toLowerCase() || "";
            
            // Check if matches category
            const matchesCategory = 
              selectedCategory === "all" || 
              cardCategories.includes(selectedCategory.toLowerCase());
            
            // Check if matches search term
            const matchesSearch = 
              title.includes(searchTerm) || 
              desc.includes(searchTerm);
            
            if (matchesCategory && matchesSearch) {
              card.classList.remove("hidden", "fade-out");
              // Staggered fade in animation
              setTimeout(() => {
                card.classList.add("fade-in");
              }, index * 50);
              hasVisible = true;
            } else {
              card.classList.add("hidden");
              card.classList.remove("fade-in");
            }
          });
          
          // Show/hide no results message
          const noResultsElem = document.getElementById("no-results");
          if (noResultsElem) {
            if (!hasVisible) {
              noResultsElem.classList.remove("hidden");
              setTimeout(() => {
                noResultsElem.style.opacity = "1";
              }, 50);
            } else {
              noResultsElem.style.opacity = "0";
              setTimeout(() => {
                noResultsElem.classList.add("hidden");
              }, 500);
            }
          }
        }, 150);
      }

      // Category button click handler
      if (filterContainer) {
        filterContainer.addEventListener("click", function (e) {
          const target = e.target;
          if (target.classList.contains("category-btn")) {
            // Remove active class from all buttons
            filterContainer.querySelectorAll(".category-btn").forEach(btn => {
              btn.classList.remove("active", "bg-blue-600", "text-white");
              btn.classList.add("bg-blue-50", "text-blue-700");
            });
            
            // Add active class to clicked button
            target.classList.add("active", "bg-blue-600", "text-white");
            target.classList.remove("bg-blue-50", "text-blue-700");
            
            filterProducts();
          }
        });
      }

      // Search input handler with debounce
      const searchElem = document.getElementById("search");
      let searchTimeout;
      
      if (searchElem) {
        searchElem.addEventListener("input", function() {
          clearTimeout(searchTimeout);
          searchTimeout = setTimeout(filterProducts, 300);
        });
      }

      // Initial animation for cards
      setTimeout(() => {
        cards.forEach((card, index) => {
          setTimeout(() => {
            card.classList.remove("opacity-0", "translate-y-10");
            card.classList.add("fade-in");
          }, 100 * index);
        });
      }, 100);

      // Enhanced Intersection Observer for scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("in-view");

            // Animate feature cards
            if (entry.target.classList.contains("overview-section")) {
              const featureCards = entry.target.querySelectorAll(".feature-card");
              featureCards.forEach((card, index) => {
                setTimeout(() => {
                  card.style.opacity = "1";
                  card.style.transform = "translateY(0)";
                }, 100 * index);
              });
            }

            // Animate product cards
            if (entry.target.classList.contains("products-section")) {
              const productCards = entry.target.querySelectorAll(".product-card");
              productCards.forEach((card, index) => {
                setTimeout(() => {
                  card.style.opacity = "1";
                  card.style.transform = "translateY(0) scale(1)";
                }, 50 * index);
              });
            }

            // Animate fade-in-up elements
            const fadeElements = entry.target.querySelectorAll(".fade-in-up");
            fadeElements.forEach((el, index) => {
              setTimeout(() => {
                el.style.opacity = "1";
                el.style.transform = "translateY(0)";
              }, 100 * index);
            });
          }
        });
      }, observerOptions);

      // Observe sections
      document.querySelectorAll(".overview-section, .products-section").forEach((section) => {
        observer.observe(section);
      });

      // Smooth scroll for banner CTA
      const bannerBtn = document.querySelector(".banner-cta button");
      if (bannerBtn) {
        bannerBtn.addEventListener("click", () => {
          const productsSection = document.querySelector(".products-section");
          if (productsSection) {
            productsSection.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      }

      // Parallax effect for banner
      let ticking = false;

      function updateParallax() {
        const scrolled = window.pageYOffset;
        const parallax = document.querySelector(".parallax-bg");
        if (parallax) {
          const speed = scrolled * 0.5;
          parallax.style.transform = `translateY(${speed}px)`;
        }
        ticking = false;
      }

      function requestTick() {
        if (!ticking) {
          requestAnimationFrame(updateParallax);
          ticking = true;
        }
      }

      window.addEventListener("scroll", requestTick);
    });
  </script>
</Layout>